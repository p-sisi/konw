<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Git</title>
</head>

<body>
    <!-- Git
            1、概念
                Git是目前世界上最先进的分布式版本控制系统
                版本控制系统：在开发中，通常会有很多个项目版本，可以记录每次的文件改动，还能协调多用户编辑
            2、Git与Github
                (1)两者区别：
                    )Git是一个分布式控制系统，简单来说就是一个软件，用于记录一个或者若干文件内容的变化，以便将来查阅特定版本
                     修改情况的软件。
                    )GitHub（https：//www.github.com）是一个为用户提供Git服务的网站，简单说就是一个可以放代码的地方（不过可以放
                     的不仅是代码）。GitHub除了提供管理Git的web界面外，还提供了订阅、关注、讨论组、在线编辑器等丰富的功能。
            3、Git下载
                ()打开Git官网，找到“DownLoads”，下载完成之后，更改位置和最后一步的勾选去掉，其他的一路默认
            -->

    <!--Git的使用
            1、本地仓库-
                Git本地操作的三个区域:
                    Git Repository(Git 仓库)：最终确定的文件保存到仓库，成为一个新的版本，并且对他人可见
                    暂存区：暂存已经修改的文件最后统一提交到Git仓库中
                    工作区(Working Directory)：添加、编辑、修改文件等操作
            2、相关指令
                由工作区---暂存区：git add test.java
                由暂存区---Git仓库：git commit -m "提交描述"
            -->

    <!-- 本地仓库的操作
            1、仓库又叫版本库，英文名为repository，可以简单理解成是一个目录，用来存放代码的，对代码的每一个操作都能跟踪到
            2、在安装好后首次使用，需要进行全局配置：
                    ()桌面右键空白处点击“Git Bash here”以打开Git命令行窗口
                    ()输入命令 ：
                        $ git config --global user.name "用户名"
                        $ git config --global user.email "邮箱地址"
                            这两句指令用于我们后期使用的用户名和邮箱
            3、创建仓库
                ()当我们需要让Git去管理某个新项目或已存在项目的时候，就需要创建仓库了
                ()新建文件夹
                ()进入到刚刚新建的文件夹目录中，比如这里新建的Notes目录
                    cd /d/app/Git/Notes
                ()Git仓库初始化（让Git知道，他需要来管理这个目录）
                    git init
                  初始化成功之后，文件夹中会出现一个文件夹.git
            4、Git常用指令操作
                ()git status  查看当前仓库状态，比如说忘记自己上一次执行到什么指令了
                ()添加文件到缓存区，我们平时新建文件时那个区叫工作区
                  git add 文件名   添加一个文件
                  git add 文件名1 文件名2 文件名3    同时添加多个文件
                  git add .      添加当前目录到缓存区
                ()git commit -m "注释内容"    提交版本库
                ()当对代码有改动时，先提交暂存区，再提交到本地仓库
            5、版本回退
                ()首先查看版本，找到需要回退的版本号
                    git log--pretty=oneline
                ()回退到指定版本
                    git reset --hard 版本号      版本号就是上面查看版本时输出结果中前面黄色部分
                ()回到未来：当执行回退操作之后，想要继续回到之前的版本号，需要依靠指令查看历史操作，便于找到之前的版本号
                    git reflog-->

    <!-- Github远程仓库操作
            1、GitHub等都是为Git服务的，进行代码的管理
            2、()首先在GitHub等代码管理中新建仓库
               ()使用Git Bash 控制台cd到Git仓库管理的文件夹
               ()在Git Bash中使用指令克隆线上仓库 
                    git clone 线上仓库地址
                 线上仓库地址是指在GItHub中新建仓库时，HTTPS协议下的地址，新建仓库后会看到，比如：https://github.com/p-sisi/mini.git
                 远程仓库不需要初始化
               ()线上仓库上对应的操作（提交暂存区、提交本地仓库、提交线上仓库、拉取线上仓库（当第一次与线上仓库连接了后，之后每一次可以直接push）
                    git push   提交到线上仓库，将我们修改的代码文件提交到线上仓库，也就是Github中的仓库
                  当第一次提交线上仓库时可能会遇到错误：403报错，权限问题
                  解决方法：找到本地仓库中的文件./.git/config，打开后将“origin”中的url地址中，在“github”前加上用户名和密码：
                    url = https://用户名:密码@github.com...
                    git pull    拉取线上仓库，就是当我们在远程仓库中修改了文件时，需要同步拉取到我们的本地仓库
                  注意：
                        一般每天开始写代码时需要git pull 拉取线上仓库同步本地仓库，每天结束代码时需要git push 提交线上仓库。-->

    <!-- Git分支操作
            1、分支：比如说开发一个商场项目，其中可能就包括了用户模块（user分支）、商品模块（goods分支）等，多个分支组成一个完整的项目 
            2、每次版本提交后都会有记录，Git把它们串成时间线，形成类似于时间轴的东西，这个时间轴就是一个分支，我们称之为master分支
            3、在开发中往往是团队协作的，多人进行开发，需要创建多个分支，分支上的工作不影响其他分支的正常使用，会更加安全
            4、分支相关指令
                    git branch           查看分支
                    git branch 分支名     新建新的分支
                    git checkout 分支名   切换分支
                    git branch -d 分支名  删除分支，删除分支前一定要先退出先前的分支
                    git merge 被合并的分支名   合并分支，会把两个分支的内容进行合并
                不同分支下的内容是不会一致的，在分支1中创建的文件，在分支2 中看不到-->

    <!-- git冲突操作
            1、在没有git pull 操作之后，修改了本地仓库的文件内容，修改完之后我需要git push 到远程仓库，这个时候就会发生冲突
            2、发生冲突时，会有冲突提示信息
            3、解决冲突方法：
                ()先git pull ，会出现一大串提示，说明git已经将远程仓库与本地仓库的冲突合并到了对应的冲突文件中
                ()发生冲突的部分，会有特殊标识，此时需要与相对应的开发人员沟通，修改保留代码
                ()重新进行提交 -->


    <!-- Git图形化管理工具
            1、在开发中，如果觉得git命令太麻烦了，就可以下载图形化管理工具进行指令操作
            2、Github for Desktop -->


    <!-- 忽略文件操作
            1、在项目目录下有很多万年不变的文件目录，比如css、js、images等，或者还有一些目录即使有改动，也不想提交到远程仓库中的，
               此时，就需要用到忽略文件操作（比如node_modules文件一般是不建议上传到版本控制上的）
            2、忽略文件需要新建一个名为.gitignore的文件，该文件用户声明忽略文件或不忽略文件的规则，规则对当前目录及其子目录生效。
              .gitignore 文件放在最外层，与node_modules同级
            3、该文件没有文件名，没有办法直接新建，需要使用命令
                  $ touch .gitignore 
            4、创建之后，可以直接使用记事本打开，直接输入下面的规则即可，比如想忽略js文件夹中的所有内容，则在.gitignore文件中直接写
                /js/      这样就可以了 
                忽略node_modules、dist等文件
                .DS_Store
                node_modules/
                platforms/
                dist/
                npm-debug.log*
                yarn-debug.log*
                yarn-error.log*
                package-lock.json

                # Editor directories and files
                .idea
                .vscode
                *.suo
                *.ntvs*
                *.njsproj
                *.sln

            4、常见规则写法
                /mtk/        过滤整个文件夹
                *.zip        过滤所有.zip 文件
                /mtk/do.c    过滤某个具体文件
                ！index.php   不过滤具体某个文件 -->

    <!-- vsCode文件后面字母表示的意思
         A   你本地新增的文件（服务器上没有）
         C   文件的一个新拷贝
         D   你本地删除的文件（服务器上还在）
         M   文件的内容或者mode被修改了
         R   文件名被修改了
         T   文件的类型被修改了
         U   文件没有合并
         X   未知状态（可能是遇到git的bug了，可以向git提交bug report）-->


    <!-- 本地完整项目上传至github
        (1)新建好要写的项目文件，比如说我想上传一个vue项目文件vueCase，在github新建好远程仓库
        (2)打开Git Bash，cd到vueCase目录中，例如：
                $ cd /d/study/WebCode/program/vueCase
        (3)初始化本地仓库，让vueCase变成git可管理的仓库（目录下多了一个.git文件说明建立本地仓库成功）
                $ git init
        (4)如果想忽略某个文件不上传至仓库（比如node_modules文件），参考上面知识点
        (4)将VueCase文件夹中的所有文件从工作区（本地可见的那个目录区）加入到暂存区（看不见的那个区，在工作区与本地仓库之间）
                $ git add .    这里提交所有文件，具体看上面知识点
        (5)如果在add的时候出现警告LF will be replaced by CRLF the next time Git touches it，解决方法：
                $ git config core.autocrlf false
        (6)查看当前仓库状态，看看刚刚的add有没有添加成功，出现 on branch master no commits yet ，还列出新添加的文件则add成功
                $ git status
        (7)将文件从暂存区提交到本地仓库，出现create mode 。。。表示提交成功
                $ git commit -m "注释内容"
        (8)连接远程仓库，首先查看密钥SSH，到C盘用户目录下有没有.ssh目录，有的话看下里面有没有id_rsa和id_rsa.pub这两个文件，有就跳到下一步，没有就通过下面命令创建
                $ ssh-keygen -t rsa -C "203915779@qq.com"   开始绑定的那个邮箱
                    输入命令后一路回车，当上面提到的.ssh目录及文件出现后，密钥创建成功
                    接着到github中添加密钥：点击头像右下角三角形---选择“settings”---左边导航栏选择“developer settings”----
                                          “personal access tokens”---“tokens”---“create new tokens”---选择第一个beta---
                                          输入名字后，把id_rsa.pub以记事本打开，复制里面所有内容到描述框中----密钥SSH即可添加成功
                    如果想查看密钥是否真的添加成功，可以：
                        $ cd ~/.ssh    cd到这个地址
                        $ ls   如果出现两个文件名即成功   记得再次cd到vueCase目录下
        (9)本地仓库与github远程仓库建立连接
                $ git remote add origin git@github.com:p-sisi/GeneralBackManagement.git 
                    origin后面的为远程仓库地址，打开github远程仓库，点击code，ssh地址
                    可以查看远程仓库地址，判断是否连接成功，出现两个地址，fetch、push即为成功
                    $ git remote -v
        (10)连接建立之后，将本地仓库内容提交到远程仓库中，出现一堆输出，没有报错，在远程仓库刷新后可看见master分支中提交的代码即可成功
                $ git push -u origin master   
                    第一次提交时，可能会出现 Are you sure you want to continue connecting (yes/no)?  记住千万不要直接回车，输入yes后回车
-->

    <!-- 远程仓库资源克隆到本地---个人开发
    (1)在github中download zip，将压缩包解压并放到你想放的目录下比如下载了Web-master项目
    (2)打开git bash 然后cd到Web-master的目录中
            $ cd /d/study/WebCode/otherKnowledge/Web-master
    (3)下载的文件中是没有.git文件的，需要初始化
            $ git init
    (4)这个情况下是不与远程仓库建立连接的，本地仓库也是空的，想要连接提交的话看上面知识点-->
</body>

</html>