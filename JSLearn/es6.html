<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>es6</title>
</head>

<body>
    <!-- ES6介绍
        1、含义
            ES的全称是ECMAScript，它是由ECMA国际标准化组织规定的一项脚本语言的标准化规范
    
    
    let
        1、ES6中新增的用于声明变量的关键字
        
        2、使用let声明的变量的特点
            (1) 具有块级作用域，块级作用域是ES6 新增的，块级作用域指的是一个大括号{}所产生的的作用域，该变量只能在块级作用域 中访问
                防止循环变量变为全局变量
                    for(let i = 0; i<2 ; i++){}  花括号外面不可以访问i，如果是var的话就可以访问i
            (2) 不存在变量提升
                    变量提升就是，先声明再使用还是先使用再声明，在ES6 之前是允许先使用再声明的
                    使用let声明的变量，必须要先申明再使用
            (3) 具有暂时性死区
                    就是使用let声明的变量会被绑定在该块级作用域，被绑定在里面，不受外界任何因素的影响
                var tmp = 123；
                if(true) {
                    tmp = 'abc';
                    let tmp;           这样tmp会被绑定在该块级作用域，即使外面使用var声明了该变量
                }
        
        经典面试题
            let arr = [];
            for(let i = 0; i < 2; i++){             使用let ： 在执行到函数时，由于在该级找不到i变量，根据变量的查找规则
                arr[i] = function (){                        会去向上一级查找。而每次循环之后都会对该变量i产生一个块级作
                    console.log(i);                          用域，每个块级作用域中的变量i的值都是不同的，函数执行时输出
                }                                            的是自己上一级循环产生的作用域下的值，所以最后结果是 0,1
            } 
            arr[0]();                               使用var ： 输出结果是2 2 ，因为0和1时没有退出循环，是在i=2的时候退出
            arr[1]();
        
        
        
            
    const
        1、含义
            声明常量，常量就是值（内存地址）不能变的量
        2、使用const声明的常量的特点
            (1) 具有块级作用域（具体可以看let，一样的）
            (2) 声明时必须赋值 
            (3) 赋值后，值不能更改
                const arr = [100,200];
                arr[0] = 'a';
                arr[1] = 'b';
                console.log(arr);   结果['a','b']
                arr = ['a','b'];    会报错，assignment to constant variable
                后面这个报错的原因是改变了数组的内存地址，上面那个是改变了内存地址中的值
    
    
    
    解构赋值
        1、含义
            ES6中允许从数组中提取值，按照对应位置，对变量赋值，对象也可以实现解构
        2、数组解构
            let [a,b,c] = [1,2,3]     变量与值就是一一对应的关系
        3、对象解构
            let person = { name: 'ZhangSan',age: '20'};
            let {name,age} = person;
            这样name和age两个变量分别对应对象中的属性，存有属性值
            就可以不需要声明两次变量 person.name ，直接一次就可以声明完对象中的所有变量
            注意点:
                在上面的写法中，变量的名字是和属性的名字相同的，也可以名为不相同，如下
                    let {name:uname, age:uage} = person
                不需要把对象中的所有属性命名
            
            
            
    箭头函数
        1、含义
            ES6中新增的定义函数的方式
            () => {}
            const 函数名fn = (形参) => {函数体}
            如果函数体中只有一句代码，且代码的执行结果就是返回值，则可以省略大括号和return
            如果形参只有一个，那小括号可以省略

        2、箭头函数中的this
                箭头函数不绑定this关键字，箭头函数中的this，指向的是函数定义位置的上下文this，也就是箭头函数被定义在哪，this就指向那
                var obj = {                             obj对象不能产生作用域，所以箭头函数实际上是被定义在了全局作用域下
                    age: 20,                            所以我们在调用say方法的时候，this指向的是window，而在window下面
                    say: () => {                        是没有age属性的，所以结果是100
                        alert(this.age)
                    }
                } 
                var age = 100;
                obj.say();
            
            
            
            
    剩余参数：当形参个数大于实参个数时，我们可以将多余的参数放在一个数组里
            形参前的三个点表示已接收所有的实参，例如：（first,...last）
        
        
        
    扩展运算符：
        可以将数组或者对象转为逗号分隔的参数序列，只需要在名字前加...
        let ary = [1,2,3];
        ...ary
        console.log(...ary);  输出结果1 2 3，没有逗号是因为console.log 会将逗号当做是参数的分割符，就会单独输出，不会输出分隔符
    运用：(1)将两个数组合并（因为数组的元素就是以逗号分隔的）
            lat arr1 = [1,2];
            let arr2 = [3,4];
            let arr3 = [...arr1,...arr2];  结果1 2 3 4
        也可以用这个方法：
            arr1.push(...arr2);
         (2) 将伪数组转换为真正的数组
                let lis = document.querySelector('li');    通过这样得到的是一个伪数组
                var olis = [...lis];    这样就由伪数组转换成了数组
            
            
            
    数组的扩展方法
        (1) find（）
                找出第一个符合条件的数组成员，如果没有找到就返回undefined
                let target = ary.find((item,index) => item.id == 2);       find参数是一个函数，查找的条件
                这个语句会循环数组，查找匹配的值，第一个参数item是当前循环到的那个值，index就是当前循环的索引
        (2) findIndex（）
                找出第一个符合条件的数组成员的位置，没有找到就返回-1
                let ary = [1,2,10];
                let index = ary.findIndex((value,index) => value > 2);
                console.log(index);   结果是2
                第一个参数是数组元素，第二个是当前循环的索引，也是数组的位置
        (3) includes（）
                m某个数组中是否包含给定的值，返回布尔值
                [1,2,3].includes(2);     true
        (4)reduce（）
                条件选择函数，选择符合某个条件的元素并统计出来，返回统计的个数
                有两个参数：reduce(()=>{},0)   第一个参数是设定某个选择条件，第二个参数是统计个数的初始值
            
            
            
    
    string 的扩展方法
        (1) str1.startWidth（str），返回布尔值
                字符串是否以str开头
        (2) str1.endWidth（str）
                字符串是否以str结尾，返回布尔值
        (3) str1.repeat（重复次数）
                将源字符串重复n次，返回一个新的字符串





    模板字符串
        1、用法：字符串不在使用单引号，而是使用反引号``，函数变量名 ${名字} 
        2、特点
            (1) 可以解析变量，所以可以用来拼接字符串
                平时字符串的拼接使用“引引加加”，使用反引号可以将该变量用   ${变量名}
                    let sayHello = `hello,my name is ${name}` 
            (2) 可以换行
                普通字符串会在一行显示，不会换行，看起来不清晰，使用反引号可以换行
            (3) 可以调用函数
                有一个函数 sayHello（）
                    let greet = `${sayHello()}`   会直接返回函数的结果  
                
                
                
                
    Set
        1、含义
            ES6提供的新的数据结构，类似于数组，但是成员的值是唯一的，也就是不可能存在一样的值
        2、用法
            const s = new Set();
            const s = new Set([1,2,3]);   以数组作为参数
            在运行过程中，会将重复的值去掉
        3、实例方法
            (1) add(值)  添加某个值，返回Set结构本身
                    const s = new Set([1,2]);
                    s.add(3).add(3);    [1,2,3]
            (2) delete(值)   删除某个值，返回一个布尔值，表示是否删除成功
            (3) has(值)      该值是否是Set的成员，返回布尔值
            (4) clear()      清楚所有成员，没有返回值
        4、遍历
            与遍历数组一样，也有遍历方法 foreach()  接收一个函数作为参数，对每个成员执行操作，没有返回值
            s.foreach(() => {})-->
</body>

</html>